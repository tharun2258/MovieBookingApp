<div class="login-container">
  <div class="login-content">
  <mat-card >

    <mat-toolbar class="login-toolbar" color="primary">Registration Form</mat-toolbar>

   <mat-card-content >

       <form class="my-form" #registerForm="ngForm"  >

           <mat-form-field class="full-width" >

               
               <mat-icon matPrefix>person_outline</mat-icon>

               <input type="text" class="mat-input-element" matInput ngModel #username="ngModel" name="username" (input)="checkUsernameExist(registerForm)" id="username" placeholder="Enter Username"  required>

               <mat-error *ngIf="username.invalid && username.touched">

                <mat-error  *ngIf="username.errors?.['usernameExist']">Username already exist!</mat-error>
                <mat-error *ngIf="username.errors?.['required']">Username is Mandatory</mat-error>

            </mat-error>

        

              

           </mat-form-field>

           <mat-form-field class="full-width">

             
               <mat-icon matPrefix>lock_outline</mat-icon>

               <input type="password"  class="mat-input-element" matInput #password="ngModel" ngModel name="password" id="password" placeholder="Enter Password"  minlength="8" pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$" required>

               <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">

               <mat-error *ngIf="password.errors?.['required']">Enter the password</mat-error>

               <mat-error *ngIf="password.errors?.['minlength']"> Password must atleast contain 8 characters</mat-error>

               <mat-error *ngIf="password.errors?.['pattern']"> User Password should contain atleast one uppercase,one numeric and a special character.</mat-error>

               </mat-error>

           </mat-form-field>




           <mat-form-field class="full-width">

               
               	<mat-icon matPrefix>lock_outline</mat-icon>

               <input type="password" class="mat-input-element" (input)=" validatePassword(registerForm)" matInput ngModel #confirmPassword="ngModel" name="confirmPassword" id="confirmPassword" placeholder="Enter Confirm Password" required>

               <mat-error *ngIf="confirmPassword.touched">
                <mat-error *ngIf="confirmPassword.errors?.['required']">Enter the confirm password</mat-error>

                   <mat-error  *ngIf="confirmPassword.errors?.['passwordMismatch']">Password and Confirm Password doesnot match</mat-error>

               </mat-error>

           </mat-form-field>




           

           <mat-form-field class="full-width">

            <mat-icon matPrefix>phone</mat-icon>
               <input type="tel" class="mat-input-element" matInput  #conNum="ngModel" ngModel name="conNum" id="conNum" placeholder="Enter Contact Number" required minlength="10" maxlength="10" pattern="[0-9]+">

               <mat-error *ngIf="conNum.invalid && (conNum.touched || conNum.dirty)">

                   <mat-error *ngIf="conNum.errors?.['required']">Contact Number is Mandatory</mat-error>

                   <mat-error *ngIf="conNum.errors?.['minlength'] || conNum.errors?.['maxlength']">Contact Number should contains 10 digits</mat-error>

               </mat-error>

           </mat-form-field>




           <mat-form-field class="full-width">

           

               <input type="email"  #email="ngModel" class="mat-input-element" matInput ngModel name="email" id="email" placeholder="Enter Email" required  pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}">
               <mat-icon matPrefix>email</mat-icon>
               <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">

                   <mat-error *ngIf="email.errors?.['required']">Email is Mandatory</mat-error>

                   <mat-error *ngIf="email.errors?.['pattern']">Enter a Valid email (Ex: abc@gmail.com)</mat-error>

               </mat-error>

              

           </mat-form-field>

          

           <mat-form-field class="full-width">

            <mat-icon matPrefix>question_answer</mat-icon>
               <mat-label>Which is your Favourite Place?</mat-label>

               <input type="text" class="mat-input-element" matInput #secretQuestion="ngModel" ngModel name="secretQuestion" id="secretQuestion" placeholder="Enter Answer" required pattern="[a-zA-Z]+">

               <mat-error *ngIf="secretQuestion.invalid && (secretQuestion.touched || secretQuestion.dirty)">

                   <mat-error *ngIf="secretQuestion.errors?.['required']">This field is Mandatory</mat-error>

                 

               </mat-error>

           </mat-form-field>

        <div class="register"> 
       <button  mat-raised-button  color="primary" [disabled]="!registerForm.valid" (click)="registerNewUser(registerForm)"  >REGISTER</button>
    </div>
    
</form>
<div class="login"> 
    <a id="login" href="/">Already having account ? Login here</a>
 </div>
    </mat-card-content>


  </mat-card>

</div>
</div>
